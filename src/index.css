@tailwind base;
@tailwind components;
@tailwind utilities;

/* Cyberpunk theme styles */
@layer components {
  .cyberpunk-panel {
    @apply bg-gradient-to-br from-indigo-900/40 via-purple-900/40 to-pink-900/40;
    @apply border-2 border-cyan-400/50 rounded-lg backdrop-blur-sm;
    @apply shadow-lg shadow-cyan-400/20;
  }

  .cyberpunk-button {
    @apply backdrop-blur-sm;
    box-shadow: 0 0 20px rgba(34, 211, 238, 0.3);
  }

  .cyberpunk-button:hover {
    box-shadow: 0 0 30px rgba(34, 211, 238, 0.5);
  }

  .neon-border {
    box-shadow: 
      0 0 5px currentColor,
      inset 0 0 5px currentColor,
      0 0 10px currentColor,
      0 0 20px currentColor;
  }

  .neon-glow {
    box-shadow: 
      0 0 10px currentColor,
      0 0 20px currentColor,
      0 0 30px currentColor;
  }

  .neon-text {
    text-shadow: 
      0 0 5px currentColor,
      0 0 10px currentColor,
      0 0 15px currentColor,
      0 0 20px currentColor;
  }
}

/* Animated starfield background */
.stars {
  width: 1px;
  height: 1px;
  background: transparent;
  box-shadow: 
    1541px 1046px #fff, 1651px 1164px #fff, 1286px 1642px #fff, 1364px 1058px #fff,
    1696px 1059px #fff, 1129px 1718px #fff, 1984px 1221px #fff, 1749px 1313px #fff,
    1057px 1696px #fff, 1696px 1059px #fff, 1129px 1718px #fff, 1984px 1221px #fff,
    1749px 1313px #fff, 1057px 1696px #fff, 1696px 1059px #fff, 1129px 1718px #fff,
    1984px 1221px #fff, 1749px 1313px #fff, 1057px 1696px #fff, 1696px 1059px #fff;
  animation: animStar 50s linear infinite;
}

.stars:after {
  content: " ";
  position: absolute;
  top: 2000px;
  width: 1px;
  height: 1px;
  background: transparent;
  box-shadow: 
    1541px 1046px #fff, 1651px 1164px #fff, 1286px 1642px #fff, 1364px 1058px #fff,
    1696px 1059px #fff, 1129px 1718px #fff, 1984px 1221px #fff, 1749px 1313px #fff,
    1057px 1696px #fff, 1696px 1059px #fff, 1129px 1718px #fff, 1984px 1221px #fff,
    1749px 1313px #fff, 1057px 1696px #fff, 1696px 1059px #fff, 1129px 1718px #fff,
    1984px 1221px #fff, 1749px 1313px #fff, 1057px 1696px #fff, 1696px 1059px #fff;
}

.stars2 {
  width: 2px;
  height: 2px;
  background: transparent;
  box-shadow: 
    700px 400px #22d3ee, 400px 400px #22d3ee, 1100px 300px #22d3ee, 300px 300px #22d3ee,
    1800px 800px #22d3ee, 800px 800px #22d3ee, 1400px 600px #22d3ee, 600px 600px #22d3ee,
    1600px 1000px #22d3ee, 1000px 1000px #22d3ee, 1200px 1200px #22d3ee, 200px 200px #22d3ee;
  animation: animStar 100s linear infinite;
}

.stars2:after {
  content: " ";
  position: absolute;
  top: 2000px;
  width: 2px;
  height: 2px;
  background: transparent;
  box-shadow: 
    700px 400px #22d3ee, 400px 400px #22d3ee, 1100px 300px #22d3ee, 300px 300px #22d3ee,
    1800px 800px #22d3ee, 800px 800px #22d3ee, 1400px 600px #22d3ee, 600px 600px #22d3ee,
    1600px 1000px #22d3ee, 1000px 1000px #22d3ee, 1200px 1200px #22d3ee, 200px 200px #22d3ee;
}

.stars3 {
  width: 3px;
  height: 3px;
  background: transparent;
  box-shadow: 
    1200px 600px #a855f7, 600px 600px #a855f7, 1600px 400px #a855f7, 400px 400px #a855f7,
    2000px 1000px #a855f7, 1000px 1000px #a855f7, 1800px 1400px #a855f7, 800px 800px #a855f7;
  animation: animStar 150s linear infinite;
}

.stars3:after {
  content: " ";
  position: absolute;
  top: 2000px;
  width: 3px;
  height: 3px;
  background: transparent;
  box-shadow: 
    1200px 600px #a855f7, 600px 600px #a855f7, 1600px 400px #a855f7, 400px 400px #a855f7,
    2000px 1000px #a855f7, 1000px 1000px #a855f7, 1800px 1400px #a855f7, 800px 800px #a855f7;
}

@keyframes animStar {
  from {
    transform: translateY(0px);
  }
  to {
    transform: translateY(-2000px);
  }
}

/* Mobile landscape optimization */
@media screen and (orientation: landscape) and (max-height: 700px) {
  body {
    font-size: 14px;
  }
  
  /* 横屏模式下保持三列布局 */
  .min-h-screen {
    min-height: 100vh;
    min-height: 100dvh; /* 动态视口高度 */
  }
  
  /* 强制保持三列网格布局 */
  .grid-cols-1 {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
  
  /* 减少横屏模式下的间距和内边距 */
  .space-y-2 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 0.25rem;
  }
  
  .space-y-4 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 0.25rem;
  }
  
  /* 优化按钮高度 */
  .cyberpunk-button {
    min-height: 40px !important;
    font-size: 0.875rem !important;
  }
  
  /* 优化面板内边距 */
  .cyberpunk-panel {
    padding: 0.5rem !important;
  }
  
  /* 优化游戏板高度 */
  .h-48 {
    height: 8rem !important;
  }
  
  /* 优化文字大小 */
  .text-xl {
    font-size: 1rem !important;
    line-height: 1.5rem !important;
  }
  
  .text-2xl {
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
  }
  
  .text-3xl {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }
}

/* 超小屏幕横屏优化 */
@media screen and (orientation: landscape) and (max-height: 500px) {
  /* 强制保持三列网格布局 */
  .grid-cols-1 {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
  
  .cyberpunk-panel {
    padding: 0.25rem !important;
  }
  
  .cyberpunk-button {
    min-height: 35px !important;
    font-size: 0.75rem !important;
  }
  
  /* 进一步减少间距 */
  .space-y-2 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 0.125rem;
  }
  
  .space-y-4 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 0.125rem;
  }
  
  /* 优化游戏板高度 */
  .h-48 {
    height: 6rem !important;
  }
  
  /* 进一步优化文字大小 */
  .text-base {
    font-size: 0.75rem !important;
    line-height: 1rem !important;
  }
  
  .text-lg {
    font-size: 0.875rem !important;
    line-height: 1.25rem !important;
  }
  
  .text-xl {
    font-size: 0.875rem !important;
    line-height: 1.25rem !important;
  }
  
  .text-2xl {
    font-size: 1rem !important;
    line-height: 1.5rem !important;
  }
  
  .text-3xl {
    font-size: 1.125rem !important;
    line-height: 1.75rem !important;
  }
}

/* Prevent zoom on mobile */
@media screen and (max-width: 768px) {
  input, button, select, textarea {
    font-size: 16px !important;
  }
}

/* Smooth animations for mobile */
* {
  -webkit-tap-highlight-color: transparent;
}

button {
  touch-action: manipulation;
}

/* Ensure full height on mobile browsers */
html, body, #root {
  height: 100%;
  overflow: auto;
}

/* Fix viewport height issues on mobile */
.min-h-screen {
  min-height: 100vh;
  min-height: 100dvh; /* 使用动态视口高度 */
}

/* 移动端容器优化 */
@media (max-width: 1024px) {
  .min-h-screen {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
}

/* Improve touch targets for mobile */
@media (max-width: 768px) {
  button {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Prevent overscroll on mobile */
body {
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  /* 防止地址栏影响高度计算 */
  height: 100vh;
  height: 100dvh;
}